import{d as J,r as h,c as w,a as x,b as K,n as D,e as ee,o as f,f as F,g as R,h as e,t as A,i as H,F as X,j as Y,w as q,k as N,l as $,m as te,p as I,v as j,q as U,s as oe,u as se,x as ne,y as ae}from"./vendor-UhuOAN46.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();const le="/api";class re{constructor(a){this.baseURL=a}async request(a,s={}){const c=`${this.baseURL}${a}`,o={headers:{"Content-Type":"application/json",...s.headers},...s};o.body&&typeof o.body=="object"&&(o.body=JSON.stringify(o.body));try{const l=await fetch(c,o);if(!l.ok){const u=await l.json().catch(()=>({}));throw new Error(u.error||`HTTP ${l.status}: ${l.statusText}`)}const d=l.headers.get("content-type");return d&&d.includes("application/json")?{data:await l.json(),status:l.status,headers:l.headers}:{data:null,status:l.status,headers:l.headers}}catch(l){throw console.error(`API Request failed: ${o.method||"GET"} ${c}`,l),l}}async get(a,s={}){const c=new URLSearchParams(s).toString(),o=c?`${a}?${c}`:a;return this.request(o,{method:"GET"})}async post(a,s={}){return this.request(a,{method:"POST",body:s})}async put(a,s={}){return this.request(a,{method:"PUT",body:s})}async patch(a,s={}){return this.request(a,{method:"PATCH",body:s})}async delete(a){return this.request(a,{method:"DELETE"})}}const S=new re(le),Z=J("settings",()=>{const i=h({}),a=h(!1),s=h(null),c=w(()=>i.value.theme||"light"),o=w(()=>i.value.wallpaper||"/wallpapers/ubuntu-default.jpg"),l=w(()=>i.value.dock_position||"left"),d=w(()=>i.value.show_dock==="true"),u=w(()=>i.value.auto_hide_dock==="true"),b=async()=>{a.value=!0,s.value=null;try{const t=await S.get("/settings");i.value=t.data}catch(t){s.value="Fehler beim Laden der Einstellungen",console.error("Error loading settings:",t)}finally{a.value=!1}},v=async(t,m)=>{a.value=!0,s.value=null;try{const L=await S.put(`/settings/${t}`,{value:m});return i.value[t]=m,L.data}catch(L){throw s.value="Fehler beim Aktualisieren der Einstellung",console.error("Error updating setting:",L),L}finally{a.value=!1}},r=async t=>{a.value=!0,s.value=null;try{const m=await S.patch("/settings",t);return Object.assign(i.value,t),m.data}catch(m){throw s.value="Fehler beim Aktualisieren der Einstellungen",console.error("Error updating settings:",m),m}finally{a.value=!1}};return{settings:i,loading:a,error:s,theme:c,wallpaper:o,dockPosition:l,showDock:d,autoHideDock:u,loadSettings:b,updateSetting:v,updateSettings:r,toggleTheme:async()=>{const t=c.value==="light"?"dark":"light";await v("theme",t)},setWallpaper:async t=>{await v("wallpaper",t)},setDockPosition:async t=>{await v("dock_position",t)},toggleDock:async()=>{const t=d.value?"false":"true";await v("show_dock",t)},toggleAutoHideDock:async()=>{const t=u.value?"false":"true";await v("auto_hide_dock",t)},getSetting:(t,m=null)=>i.value[t]||m,resetSettings:async()=>{await r({theme:"light",wallpaper:"/wallpapers/ubuntu-default.jpg",dock_position:"left",show_dock:"true",auto_hide_dock:"false"})}}}),ie={__name:"App",setup(i){const a=Z(),s=w(()=>a.theme==="dark");return a.loadSettings(),(c,o)=>{const l=ee("router-view");return f(),x("div",{id:"app",class:D({"dark-theme":s.value})},[K(l)],2)}}},Q=J("programs",()=>{const i=h([]),a=h(!1),s=h(null);return{programs:i,loading:a,error:s,loadPrograms:async()=>{a.value=!0,s.value=null;try{const r=await S.get("/programs");i.value=r.data}catch(r){s.value="Fehler beim Laden der Programme",console.error("Error loading programs:",r)}finally{a.value=!1}},createProgram:async r=>{a.value=!0,s.value=null;try{const n=await S.post("/programs",r);return i.value.push(n.data),n.data}catch(n){throw s.value="Fehler beim Erstellen des Programms",console.error("Error creating program:",n),n}finally{a.value=!1}},updateProgram:async(r,n)=>{a.value=!0,s.value=null;try{const p=await S.put(`/programs/${r}`,n),_=i.value.findIndex(P=>P.id===r);return _!==-1&&(i.value[_]=p.data),p.data}catch(p){throw s.value="Fehler beim Aktualisieren des Programms",console.error("Error updating program:",p),p}finally{a.value=!1}},deleteProgram:async r=>{a.value=!0,s.value=null;try{await S.delete(`/programs/${r}`),i.value=i.value.filter(n=>n.id!==r)}catch(n){throw s.value="Fehler beim Löschen des Programms",console.error("Error deleting program:",n),n}finally{a.value=!1}},updateProgramPositions:async r=>{try{await S.patch("/programs/positions",{programs:r}),r.forEach(n=>{const p=i.value.findIndex(_=>_.id===n.id);p!==-1&&(i.value[p].position_x=n.position_x,i.value[p].position_y=n.position_y)})}catch(n){throw s.value="Fehler beim Aktualisieren der Positionen",console.error("Error updating positions:",n),n}},getProgramById:r=>i.value.find(n=>n.id===r),getProgramsByPosition:()=>i.value.sort((r,n)=>r.position_y!==n.position_y?r.position_y-n.position_y:r.position_x-n.position_x)}}),ce="/icons/updesk-logo.svg",z=(i,a)=>{const s=i.__vccOpts||i;for(const[c,o]of a)s[c]=o;return s},ue={class:"top-bar"},de={class:"top-bar-center"},pe={class:"clock"},me={class:"top-bar-right"},ve=["title"],ge={key:0,class:"icon",viewBox:"0 0 24 24",fill:"currentColor"},he={key:1,class:"icon",viewBox:"0 0 24 24",fill:"currentColor"},fe={class:"system-info"},ke={class:"time"},ye={__name:"TopBar",setup(i){const a=Z(),s=h(""),c=h(""),o=w(()=>a.theme==="dark"),l=()=>{const b=new Date;s.value=b.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),c.value=b.toLocaleDateString("de-DE",{weekday:"short",day:"2-digit",month:"2-digit"})},d=()=>{a.toggleTheme()};let u;return F(()=>{l(),u=setInterval(l,1e3)}),R(()=>{u&&clearInterval(u)}),(b,v)=>(f(),x("div",ue,[v[2]||(v[2]=e("div",{class:"top-bar-left"},[e("div",{class:"logo"},[e("img",{src:ce,alt:"UpDesk",class:"logo-icon"}),e("span",{class:"logo-text"},"UpDesk")])],-1)),e("div",de,[e("div",pe,A(s.value),1)]),e("div",me,[e("button",{class:"theme-toggle",onClick:d,title:o.value?"Zum hellen Modus wechseln":"Zum dunklen Modus wechseln"},[o.value?(f(),x("svg",ge,[...v[0]||(v[0]=[e("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"},null,-1)])])):(f(),x("svg",he,[...v[1]||(v[1]=[e("path",{"fill-rule":"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z","clip-rule":"evenodd"},null,-1)])]))],8,ve),e("div",fe,[e("span",ke,A(c.value),1)])])]))}},be=z(ye,[["__scopeId","data-v-bf2b99a1"]]),Ce={class:"dock-container"},we={class:"dock-items"},_e=["onClick","title"],xe=["src","alt"],Me={class:"dock-tooltip"},Le={key:0,class:"dock-separator"},Pe={__name:"Dock",emits:["show-applications","show-settings"],setup(i,{emit:a}){const s=Q(),c=Z(),o=a,l=h(!0),d=h(null),u=w(()=>c.dockPosition),b=w(()=>c.autoHideDock),v=w(()=>s.programs.slice(0,6)),r=M=>{window.open(M.url,"_blank")},n=()=>{o("show-applications")},p=()=>{o("show-settings")},_=M=>{M.target.src="/icons/default-app.svg"},P=()=>{d.value&&(clearTimeout(d.value),d.value=null),l.value=!0},E=()=>{b.value&&(d.value=setTimeout(()=>{l.value=!1},1e3))};return F(()=>{b.value&&setTimeout(()=>{l.value=!1},3e3)}),(M,C)=>(f(),x("div",{class:D(["dock",[`dock-${u.value}`,{"dock-auto-hide":b.value&&!l.value}]]),onMouseenter:P,onMouseleave:E},[e("div",Ce,[e("div",we,[(f(!0),x(X,null,Y(v.value,t=>(f(),x("div",{key:t.id,class:"dock-item",onClick:m=>r(t),title:t.name},[e("img",{src:t.icon,alt:t.name,class:"dock-icon",onError:_},null,40,xe),e("div",Me,A(t.name),1)],8,_e))),128)),v.value.length>0?(f(),x("div",Le)):H("",!0),e("div",{class:"dock-item",onClick:n,title:"Anwendungen"},[...C[0]||(C[0]=[e("svg",{class:"dock-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M4 4H10V10H4V4ZM14 4H20V10H14V4ZM4 14H10V20H4V14ZM14 14H20V20H14V14Z"})],-1),e("div",{class:"dock-tooltip"},"Anwendungen",-1)])]),e("div",{class:"dock-item",onClick:p,title:"Einstellungen"},[...C[1]||(C[1]=[e("svg",{class:"dock-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5A3.5 3.5 0 0 1 15.5 12A3.5 3.5 0 0 1 12 15.5M19.43 12.98C19.47 12.66 19.5 12.34 19.5 12C19.5 11.66 19.47 11.34 19.43 11.02L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.96 19.05 5.05L16.56 6.05C16.04 5.65 15.48 5.32 14.87 5.07L14.49 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.51 2.42L9.13 5.07C8.52 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.73 4.96 4.46 5.05 4.34 5.27L2.34 8.73C2.22 8.95 2.27 9.22 2.46 9.37L4.57 11.02C4.53 11.34 4.5 11.67 4.5 12C4.5 12.33 4.53 12.66 4.57 12.98L2.46 14.63C2.27 14.78 2.22 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.94C7.96 18.34 8.52 18.68 9.13 18.93L9.51 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.49 21.58L14.87 18.93C15.48 18.68 16.04 18.34 16.56 17.94L19.05 18.95C19.27 19.03 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.98Z"})],-1),e("div",{class:"dock-tooltip"},"Einstellungen",-1)])])])])],34))}},$e=z(Pe,[["__scopeId","data-v-51cf6bd7"]]),De={class:"icon-container"},He=["src","alt"],Ee={class:"icon-label"},Se={__name:"ProgramIcon",props:{program:{type:Object,required:!0}},emits:["click","edit","delete","position-change"],setup(i,{emit:a}){const s=i,c=a,o=h(!1),l=h(!1),d=h(0),u=h(0),b=h(0),v=h(0),r=h(0),n=g=>{g.stopPropagation(),Date.now()-r.value<200&&!o.value&&c("click",s.program),_()},p=g=>{g.preventDefault(),g.stopPropagation();const k=g.currentTarget.getBoundingClientRect();d.value=g.clientX-k.left,u.value=g.clientY-k.top,l.value=!0},_=()=>{l.value=!1},P=()=>{c("click",s.program),_()},E=()=>{c("edit",s.program),_()},M=()=>{c("delete",s.program),_()},C=g=>{g.target.src="/icons/default-app.svg"},t=g=>{g.button===0&&(b.value=g.clientX,v.value=g.clientY,r.value=Date.now(),o.value=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",L))},m=g=>{const k=Math.abs(g.clientX-b.value),V=Math.abs(g.clientY-v.value);(k>5||V>5)&&(o.value=!0)},L=g=>{if(document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",L),o.value){const k=document.querySelector(".desktop-grid");if(k){const V=k.getBoundingClientRect(),y=g.clientX-V.left,T=g.clientY-V.top,B=Math.max(0,Math.floor(y/120)),W=Math.max(0,Math.floor(T/120));(B!==s.program.position_x||W!==s.program.position_y)&&c("position-change",s.program,{x:B,y:W})}}setTimeout(()=>{o.value=!1},100)},O=g=>{l.value&&!g.target.closest(".program-icon")&&_()};return F(()=>{document.addEventListener("click",O)}),R(()=>{document.removeEventListener("click",O),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",L)}),(g,k)=>(f(),x("div",{class:D(["program-icon",{dragging:o.value}]),onClick:n,onContextmenu:p,onMousedown:t,style:N({gridColumn:i.program.position_x+1,gridRow:i.program.position_y+1})},[e("div",De,[e("img",{src:i.program.icon,alt:i.program.name,class:"icon-image",onError:C},null,40,He)]),e("div",Ee,A(i.program.name),1),l.value?(f(),x("div",{key:0,class:"context-menu",style:N({left:d.value+"px",top:u.value+"px"}),onClick:k[0]||(k[0]=q(()=>{},["stop"]))},[e("button",{onClick:P,class:"context-menu-item"},[...k[1]||(k[1]=[e("svg",{class:"context-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M10 6V8H5V19H16V14H18V20A1 1 0 0 1 17 21H4A1 1 0 0 1 3 20V7A1 1 0 0 1 4 6H10ZM21 3V11H19V6.413L11.207 14.207L9.793 12.793L17.585 5H13V3H21Z"})],-1),$(" Öffnen ",-1)])]),e("button",{onClick:E,class:"context-menu-item"},[...k[2]||(k[2]=[e("svg",{class:"context-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243L16.435 3.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 21z"})],-1),$(" Bearbeiten ",-1)])]),e("button",{onClick:M,class:"context-menu-item danger"},[...k[3]||(k[3]=[e("svg",{class:"context-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"})],-1),$(" Löschen ",-1)])])],4)):H("",!0)],38))}},Ve=z(Se,[["__scopeId","data-v-78567f55"]]),Ae={class:"modal-header"},ze={class:"form-group"},Te={class:"form-group"},Be={class:"form-group"},Ie={key:0,class:"icon-preview"},je=["src"],Ue={class:"form-row"},qe={class:"form-group"},Ze={class:"form-group"},Oe={class:"modal-footer"},Ne=["disabled"],Fe={__name:"ProgramModal",props:{program:{type:Object,default:null}},emits:["save","close"],setup(i,{emit:a}){const s=i,c=a,o=h({name:"",url:"",icon:"/icons/default-app.svg",position_x:0,position_y:0}),l=w(()=>{var r;return!!((r=s.program)!=null&&r.id)}),d=w(()=>o.value.name.trim()&&o.value.url.trim()),u=()=>{if(!d.value)return;const r={...o.value,name:o.value.name.trim(),url:o.value.url.trim(),icon:o.value.icon.trim()||"/icons/default-app.svg"};l.value&&(r.id=s.program.id),c("save",r)},b=r=>{r.target===r.currentTarget&&c("close")},v=r=>{r.target.src="/icons/default-app.svg"};return te(()=>s.program,r=>{r?o.value={name:r.name||"",url:r.url||"",icon:r.icon||"/icons/default-app.svg",position_x:r.position_x||0,position_y:r.position_y||0}:o.value={name:"",url:"",icon:"/icons/default-app.svg",position_x:0,position_y:0}},{immediate:!0}),(r,n)=>(f(),x("div",{class:"modal-overlay",onClick:b},[e("div",{class:"modal",onClick:n[7]||(n[7]=q(()=>{},["stop"]))},[e("div",Ae,[e("h2",null,A(l.value?"Programm bearbeiten":"Neues Programm hinzufügen"),1),e("button",{class:"close-button",onClick:n[0]||(n[0]=p=>r.$emit("close"))},[...n[8]||(n[8]=[e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])])]),e("form",{onSubmit:q(u,["prevent"]),class:"modal-body"},[e("div",ze,[n[9]||(n[9]=e("label",{for:"name"},"Name *",-1)),I(e("input",{id:"name","onUpdate:modelValue":n[1]||(n[1]=p=>o.value.name=p),type:"text",required:"",placeholder:"z.B. Google Chrome",class:"form-input"},null,512),[[j,o.value.name]])]),e("div",Te,[n[10]||(n[10]=e("label",{for:"url"},"URL *",-1)),I(e("input",{id:"url","onUpdate:modelValue":n[2]||(n[2]=p=>o.value.url=p),type:"url",required:"",placeholder:"https://example.com",class:"form-input"},null,512),[[j,o.value.url]])]),e("div",Be,[n[11]||(n[11]=e("label",{for:"icon"},"Icon URL",-1)),I(e("input",{id:"icon","onUpdate:modelValue":n[3]||(n[3]=p=>o.value.icon=p),type:"url",placeholder:"/icons/app-icon.svg",class:"form-input"},null,512),[[j,o.value.icon]]),o.value.icon?(f(),x("div",Ie,[e("img",{src:o.value.icon,alt:"Icon Preview",onError:v,class:"preview-image"},null,40,je)])):H("",!0)]),e("div",Ue,[e("div",qe,[n[12]||(n[12]=e("label",{for:"position_x"},"Position X",-1)),I(e("input",{id:"position_x","onUpdate:modelValue":n[4]||(n[4]=p=>o.value.position_x=p),type:"number",min:"0",class:"form-input"},null,512),[[j,o.value.position_x,void 0,{number:!0}]])]),e("div",Ze,[n[13]||(n[13]=e("label",{for:"position_y"},"Position Y",-1)),I(e("input",{id:"position_y","onUpdate:modelValue":n[5]||(n[5]=p=>o.value.position_y=p),type:"number",min:"0",class:"form-input"},null,512),[[j,o.value.position_y,void 0,{number:!0}]])])]),e("div",Oe,[e("button",{type:"button",onClick:n[6]||(n[6]=p=>r.$emit("close")),class:"button button-secondary"}," Abbrechen "),e("button",{type:"submit",class:"button button-primary",disabled:!d.value},A(l.value?"Aktualisieren":"Hinzufügen"),9,Ne)])],32)])]))}},Re=z(Fe,[["__scopeId","data-v-a8992a96"]]),Xe={__name:"ContextMenu",props:{x:{type:Number,required:!0},y:{type:Number,required:!0}},emits:["add-program","settings","close"],setup(i,{emit:a}){const s=a,c=()=>{s("add-program")},o=()=>{s("settings")},l=()=>{window.location.reload()};return(d,u)=>(f(),x("div",{class:"context-menu",style:N({left:i.x+"px",top:i.y+"px"}),onClick:u[0]||(u[0]=q(()=>{},["stop"]))},[e("button",{onClick:c,class:"context-menu-item"},[...u[1]||(u[1]=[e("svg",{class:"context-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})],-1),$(" Programm hinzufügen ",-1)])]),u[4]||(u[4]=e("div",{class:"context-menu-separator"},null,-1)),e("button",{onClick:o,class:"context-menu-item"},[...u[2]||(u[2]=[e("svg",{class:"context-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5A3.5 3.5 0 0 1 15.5 12A3.5 3.5 0 0 1 12 15.5M19.43 12.98C19.47 12.66 19.5 12.34 19.5 12C19.5 11.66 19.47 11.34 19.43 11.02L21.54 9.37C21.73 9.22 21.78 8.95 21.66 8.73L19.66 5.27C19.54 5.05 19.27 4.96 19.05 5.05L16.56 6.05C16.04 5.65 15.48 5.32 14.87 5.07L14.49 2.42C14.46 2.18 14.25 2 14 2H10C9.75 2 9.54 2.18 9.51 2.42L9.13 5.07C8.52 5.32 7.96 5.66 7.44 6.05L4.95 5.05C4.73 4.96 4.46 5.05 4.34 5.27L2.34 8.73C2.22 8.95 2.27 9.22 2.46 9.37L4.57 11.02C4.53 11.34 4.5 11.67 4.5 12C4.5 12.33 4.53 12.66 4.57 12.98L2.46 14.63C2.27 14.78 2.22 15.05 2.34 15.27L4.34 18.73C4.46 18.95 4.73 19.03 4.95 18.95L7.44 17.94C7.96 18.34 8.52 18.68 9.13 18.93L9.51 21.58C9.54 21.82 9.75 22 10 22H14C14.25 22 14.46 21.82 14.49 21.58L14.87 18.93C15.48 18.68 16.04 18.34 16.56 17.94L19.05 18.95C19.27 19.03 19.54 18.95 19.66 18.73L21.66 15.27C21.78 15.05 21.73 14.78 21.54 14.63L19.43 12.98Z"})],-1),$(" Einstellungen ",-1)])]),e("button",{onClick:l,class:"context-menu-item"},[...u[3]||(u[3]=[e("svg",{class:"context-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1),$(" Desktop aktualisieren ",-1)])])],4))}},Ye=z(Xe,[["__scopeId","data-v-b6e41a90"]]),Ge={class:"modal-header"},We={class:"modal-body"},Je={class:"settings-section"},Ke={class:"setting-item"},Qe={class:"theme-selector"},et={class:"setting-item"},tt={class:"wallpaper-selector"},ot=["onClick"],st=["src","alt"],nt={class:"settings-section"},at={class:"setting-item"},lt={class:"checkbox-label"},rt=["checked"],it={key:0,class:"setting-item"},ct={class:"position-selector"},ut={key:1,class:"setting-item"},dt={class:"checkbox-label"},pt=["checked"],mt={__name:"SettingsModal",emits:["close"],setup(i,{emit:a}){const s=Z(),c=a,o=w(()=>s.theme),l=w(()=>s.wallpaper),d=w(()=>s.showDock),u=w(()=>s.dockPosition),b=w(()=>s.autoHideDock),v=[{name:"Ubuntu Standard",path:"/wallpapers/ubuntu-default.jpg",thumbnail:"/wallpapers/thumbs/ubuntu-default.jpg"},{name:"Abstrakt Blau",path:"/wallpapers/abstract-blue.jpg",thumbnail:"/wallpapers/thumbs/abstract-blue.jpg"},{name:"Natur",path:"/wallpapers/nature.jpg",thumbnail:"/wallpapers/thumbs/nature.jpg"},{name:"Geometrisch",path:"/wallpapers/geometric.jpg",thumbnail:"/wallpapers/thumbs/geometric.jpg"}],r=C=>{s.updateSetting("theme",C)},n=C=>{s.setWallpaper(C)},p=()=>{s.toggleDock()},_=C=>{s.setDockPosition(C)},P=()=>{s.toggleAutoHideDock()},E=async()=>{confirm("Möchten Sie wirklich alle Einstellungen zurücksetzen?")&&await s.resetSettings()},M=C=>{C.target===C.currentTarget&&c("close")};return(C,t)=>(f(),x("div",{class:"modal-overlay",onClick:M},[e("div",{class:"modal",onClick:t[6]||(t[6]=q(()=>{},["stop"]))},[e("div",Ge,[t[8]||(t[8]=e("h2",null,"Einstellungen",-1)),e("button",{class:"close-button",onClick:t[0]||(t[0]=m=>C.$emit("close"))},[...t[7]||(t[7]=[e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})],-1)])])]),e("div",We,[e("div",Je,[t[13]||(t[13]=e("h3",null,"Erscheinungsbild",-1)),e("div",Ke,[t[11]||(t[11]=e("label",null,"Design",-1)),e("div",Qe,[e("button",{class:D(["theme-option",{active:o.value==="light"}]),onClick:t[1]||(t[1]=m=>r("light"))},[...t[9]||(t[9]=[e("svg",{class:"theme-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})],-1),$(" Hell ",-1)])],2),e("button",{class:D(["theme-option",{active:o.value==="dark"}]),onClick:t[2]||(t[2]=m=>r("dark"))},[...t[10]||(t[10]=[e("svg",{class:"theme-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z","clip-rule":"evenodd"})],-1),$(" Dunkel ",-1)])],2)])]),e("div",et,[t[12]||(t[12]=e("label",null,"Hintergrundbild",-1)),e("div",tt,[(f(),x(X,null,Y(v,m=>e("div",{key:m.path,class:D(["wallpaper-option",{active:l.value===m.path}]),onClick:L=>n(m.path)},[e("img",{src:m.thumbnail,alt:m.name},null,8,st),e("span",null,A(m.name),1)],10,ot)),64))])])]),e("div",nt,[t[19]||(t[19]=e("h3",null,"Dock",-1)),e("div",at,[e("label",lt,[e("input",{type:"checkbox",checked:d.value,onChange:p},null,40,rt),t[14]||(t[14]=e("span",{class:"checkbox-custom"},null,-1)),t[15]||(t[15]=$(" Dock anzeigen ",-1))])]),d.value?(f(),x("div",it,[t[16]||(t[16]=e("label",null,"Dock-Position",-1)),e("div",ct,[e("button",{class:D(["position-option",{active:u.value==="left"}]),onClick:t[3]||(t[3]=m=>_("left"))}," Links ",2),e("button",{class:D(["position-option",{active:u.value==="right"}]),onClick:t[4]||(t[4]=m=>_("right"))}," Rechts ",2),e("button",{class:D(["position-option",{active:u.value==="bottom"}]),onClick:t[5]||(t[5]=m=>_("bottom"))}," Unten ",2)])])):H("",!0),d.value?(f(),x("div",ut,[e("label",dt,[e("input",{type:"checkbox",checked:b.value,onChange:P},null,40,pt),t[17]||(t[17]=e("span",{class:"checkbox-custom"},null,-1)),t[18]||(t[18]=$(" Dock automatisch ausblenden ",-1))])])):H("",!0)]),e("div",{class:"settings-section"},[t[20]||(t[20]=e("h3",null,"Erweitert",-1)),e("div",{class:"setting-item"},[e("button",{onClick:E,class:"button button-danger"}," Einstellungen zurücksetzen ")])])])])]))}},vt=z(mt,[["__scopeId","data-v-63ee83f1"]]),gt={class:"desktop-content"},ht={__name:"Desktop",setup(i){const a=Q(),s=Z(),c=h(null),o=h(!1),l=h(null),d=h(!1),u=h(0),b=h(0),v=h(!1),r=w(()=>a.programs),n=w(()=>s.wallpaper),p=w(()=>s.showDock),_=y=>{window.open(y.url,"_blank")},P=y=>{l.value={...y},o.value=!0},E=async y=>{confirm(`Möchten Sie "${y.name}" wirklich löschen?`)&&await a.deleteProgram(y.id)},M=async(y,T)=>{await a.updateProgram(y.id,{...y,position_x:T.x,position_y:T.y})},C=async y=>{y.id?await a.updateProgram(y.id,y):await a.createProgram(y),t()},t=()=>{o.value=!1,l.value=null},m=()=>{l.value=null,o.value=!0,k()},L=()=>{v.value=!0,k()},O=()=>{v.value=!1},g=y=>{y.preventDefault(),u.value=y.clientX,b.value=y.clientY,d.value=!0},k=()=>{d.value=!1},V=y=>{d.value&&k()};return F(async()=>{await a.loadPrograms(),document.addEventListener("contextmenu",g),document.addEventListener("click",V)}),R(()=>{document.removeEventListener("contextmenu",g),document.removeEventListener("click",V)}),(y,T)=>(f(),x("div",{class:"desktop",style:N({backgroundImage:`url(${n.value})`})},[K(be),e("div",gt,[e("div",{class:"desktop-grid",ref_key:"desktopGrid",ref:c},[(f(!0),x(X,null,Y(r.value,B=>(f(),U(Ve,{key:B.id,program:B,onClick:_,onEdit:P,onDelete:E,onPositionChange:M},null,8,["program"]))),128))],512)]),p.value?(f(),U($e,{key:0})):H("",!0),o.value?(f(),U(Re,{key:1,program:l.value,onSave:C,onClose:t},null,8,["program"])):H("",!0),d.value?(f(),U(Ye,{key:2,x:u.value,y:b.value,onAddProgram:m,onSettings:L,onClose:k},null,8,["x","y"])):H("",!0),v.value?(f(),U(vt,{key:3,onClose:O})):H("",!0)],4))}},ft=z(ht,[["__scopeId","data-v-2d598790"]]),kt=[{path:"/",name:"Desktop",component:ft}],yt=oe({history:se(),routes:kt}),bt=ne(),G=ae(ie);G.use(bt);G.use(yt);G.mount("#app");
